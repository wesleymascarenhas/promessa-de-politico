<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Brasileiro tem memória">
  <meta name="author" content="Sandro Simas e Maday Avila">
  <title>Promessa de Político</title>
  <link href="/img/favicon.ico" rel="shortcut icon" >
  <link href='http://fonts.googleapis.com/css?family=Ubuntu' rel='stylesheet' type='text/css'>
  <link href="/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/bower_components/bootstrap-select/bootstrap-select.min.css" rel="stylesheet">
  <link href="/bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
  <link href="/bower_components/animate.css/animate.min.css" rel="stylesheet">
  <link href="/css/nprogress.css" rel="stylesheet">
  <link href="/css/main.css" rel="stylesheet">

  <script src="/bower_components/jquery/dist/jquery.min.js"></script>
  <script src="/bower_components/angular/angular.min.js"></script>
  
  <% block stylesheets %>
  <% endblock %>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body ng-app="politiciansPromiseApp" ng-cloak class="ng-cloak">
  <header ng-controller="headerController" class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="/home">Promessa de Político</a>
      </div>
      <div class="navbar-collapse collapse">
        <form class="navbar-form navbar-left">
          <input type="search" ng-model="selectedPolitician" typeahead="politician.displayName for politician in searchPoliticians($viewValue)" typeahead-min-length="3" typeahead-wait-ms="500" typeahead-on-select="selectPolitician($item)" placeholder="Busque por políticos" class="form-control" style="width: 300px;">
        </form>       
        <ul ng-show="user" class="nav navbar-nav navbar-right">
          <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
              {{ user.name }} 
              <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
              <li><a href="/logout">Sair</a></li>
            </ul>
          </li>
        </ul>
        <form ng-show="!user" class="navbar-form navbar-right">
          <button ng-click="authenticate()" class="btn btn-success">Log in</button>
        </form>  
      </div>
    </div>
  </header>

  <main class="content">
    <% block content %>
    <% endblock %>
  </main>

  <div ng-controller="alertController" class="alerts">
    <alert class="fade-in fade-out" ng-repeat="alert in alerts" type="{{ alert.type }}">
      {{ alert.msg }}
    </alert>
  </div>

  <script src="/bower_components/angular-animate/angular-animate.js"></script>
  
  <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>  
  <script src="/js/nprogress.js"></script>
  
  <script src="/bower_components/angular-bootstrap/ui-bootstrap.min.js"></script>
  <script src="/bower_components/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
  
  <script src="/bower_components/jquery-knob/js/jquery.knob.js"></script>
  <script src="/bower_components/angular-knob/src/angular-knob.js"></script>
  
  <script src="/bower_components/ngInfiniteScroll/build/ng-infinite-scroll.min.js"></script>
  
  <script src="/bower_components/bootstrap-select/bootstrap-select.min.js"></script>  
  <script src="/bower_components/nya-bootstrap-select/src/nya-bootstrap-select.js"></script>
  
  <script src="/bower_components/moment/min/moment.min.js"></script>
  <script src="/js/moment-lang-ptbr.js"></script>
  <script src="/bower_components/angular-moment/angular-moment.min.js"></script>

  <script src="/bower_components/textAngular/textAngular-sanitize.min.js"></script>
  <script src="/bower_components/textAngular/textAngular.min.js"></script>

  <script src="/bower_components/ng-flow/dist/ng-flow-standalone.min.js"></script>  
  <script src="/bower_components/ng-flow/dist/ng-flow.min.js"></script>
  
  <script src="/js/app.js"></script>
  <script>
    angular
      .module("politiciansPromiseApp")
      .value(
        "backendData", 
        <% if backendData %> <$ backendData|jsonString $> <% else %> {} <% endif %>
      );
  </script>
  <script src="/js/services.js"></script>
  <script src="/js/directives.js"></script>
  <script src="/js/controllers.js"></script>
  <script src="/js/main.js"></script>
  <script>
    $(document).ajaxStart(function() {
      NProgress.start();
    });
    $(document).ajaxStop(function() {
      NProgress.done();
    });
    // Show the progress bar 
    NProgress.start();
    // Increase randomly
    var interval = setInterval(function() { NProgress.inc(); }, 1000);        
    // Trigger finish when page fully loaded
    jQuery(window).load(function () {
        clearInterval(interval);
        NProgress.done();
    });

  </script>
  <% block scripts %>
  <% endblock %>
</body>
</html>